<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="979px" preserveAspectRatio="none" style="width:447px;height:979px;" version="1.1" viewBox="0 0 447 979" width="447px" zoomAndPan="magnify"><defs><filter height="300%" id="fqrwfn5tpmyjd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fqrwfn5tpmyjd)" height="133.3984" style="stroke: #000000; stroke-width: 2.0;" width="317.5" x="74" y="334.0938"/><rect fill="#FFFFFF" filter="url(#fqrwfn5tpmyjd)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="297.5" x="84" y="386.2266"/><rect fill="#FFFFFF" filter="url(#fqrwfn5tpmyjd)" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="341" x="84" y="481.4922"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="341" x="84" y="527.7578"/><rect fill="#FFFFFF" filter="url(#fqrwfn5tpmyjd)" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="297.5" x="84" y="785.2266"/><rect fill="#FFFFFF" height="43.9375" style="stroke: none; stroke-width: 1.0;" width="297.5" x="84" y="831.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="29" y1="86.2969" y2="168.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="29" x2="29" y1="168.5625" y2="196.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="29" y1="196.5625" y2="351.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="29" x2="29" y1="351.2266" y2="379.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="29" y1="379.2266" y2="439.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="29" x2="29" y1="439.4922" y2="467.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="29" y1="467.4922" y2="680.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="29" x2="29" y1="680.0938" y2="708.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="29" y1="708.0938" y2="750.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="29" x2="29" y1="750.2266" y2="778.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="29" y1="778.2266" y2="892.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="86.2969" y2="168.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="119" x2="119" y1="168.5625" y2="196.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="196.5625" y2="351.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="119" x2="119" y1="351.2266" y2="379.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="379.2266" y2="439.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="119" x2="119" y1="439.4922" y2="467.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="467.4922" y2="680.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="119" x2="119" y1="680.0938" y2="708.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="708.0938" y2="750.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="119" x2="119" y1="750.2266" y2="778.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="778.2266" y2="892.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352.5" x2="352.5" y1="86.2969" y2="168.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="352.5" x2="352.5" y1="168.5625" y2="196.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352.5" x2="352.5" y1="196.5625" y2="351.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="352.5" x2="352.5" y1="351.2266" y2="379.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352.5" x2="352.5" y1="379.2266" y2="439.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="352.5" x2="352.5" y1="439.4922" y2="467.4922"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352.5" x2="352.5" y1="467.4922" y2="680.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="352.5" x2="352.5" y1="680.0938" y2="708.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352.5" x2="352.5" y1="708.0938" y2="750.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="352.5" x2="352.5" y1="750.2266" y2="778.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="352.5" x2="352.5" y1="778.2266" y2="892.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="8" y="82.9951">Actor</text><ellipse cx="29" cy="13" fill="#FEFECE" filter="url(#fqrwfn5tpmyjd)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M29,21 L29,48 M16,29 L42,29 M29,48 L16,63 M29,48 L42,63 " fill="none" filter="url(#fqrwfn5tpmyjd)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="8" y="904.4248">Actor</text><ellipse cx="29" cy="917.7266" fill="#FEFECE" filter="url(#fqrwfn5tpmyjd)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M29,925.7266 L29,952.7266 M16,933.7266 L42,933.7266 M29,952.7266 L16,967.7266 M29,952.7266 L42,967.7266 " fill="none" filter="url(#fqrwfn5tpmyjd)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fqrwfn5tpmyjd)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="94" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="101" y="70.9951">mqtt</text><rect fill="#FEFECE" filter="url(#fqrwfn5tpmyjd)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="94" y="891.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="101" y="911.4248">mqtt</text><rect fill="#FEFECE" filter="url(#fqrwfn5tpmyjd)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="33" x="334.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="19" x="341.5" y="70.9951">μC</text><rect fill="#FEFECE" filter="url(#fqrwfn5tpmyjd)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="33" x="334.5" y="891.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="19" x="341.5" y="911.4248">μC</text><rect fill="#EEEEEE" filter="url(#fqrwfn5tpmyjd)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="432" x="3" y="116.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="435" y1="116.8633" y2="116.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="435" y1="119.8633" y2="119.8633"/><rect fill="#EEEEEE" filter="url(#fqrwfn5tpmyjd)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="42" x="198" y="106.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="204" y="122.3638">Init</text><polygon fill="#A80036" points="130,156.5625,120,160.5625,130,164.5625,126,160.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="352" y1="160.5625" y2="160.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="136" y="155.4966">register</text><rect fill="#EEEEEE" filter="url(#fqrwfn5tpmyjd)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="432" x="3" y="217.1289"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="435" y1="217.1289" y2="217.1289"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="435" y1="220.1289" y2="220.1289"/><rect fill="#EEEEEE" filter="url(#fqrwfn5tpmyjd)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="176" x="131" y="206.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157" x="137" y="222.6294">Start μC functionality</text><polygon fill="#A80036" points="107,256.8281,117,260.8281,107,264.8281,111,260.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="113" y1="260.8281" y2="260.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="36" y="255.7622">trigger: on</text><polygon fill="#A80036" points="341,285.9609,351,289.9609,341,293.9609,345,289.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="347" y1="289.9609" y2="289.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="126" y="284.895">trigger: on</text><polygon fill="#A80036" points="130,315.0938,120,319.0938,130,323.0938,126,319.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="352" y1="319.0938" y2="319.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="136" y="314.0278">status: active [state_json]</text><path d="M74,334.0938 L151,334.0938 L151,341.0938 L141,351.0938 L74,351.0938 L74,334.0938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="133.3984" style="stroke: #000000; stroke-width: 2.0;" width="317.5" x="74" y="334.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="89" y="347.1606">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="188" x="166" y="346.3042">[μC functionality in progress]</text><path d="M84,386.2266 L251,386.2266 L251,393.2266 L241,403.2266 L84,403.2266 L84,386.2266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="297.5" x="84" y="386.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="99" y="399.2935">On state change</text><polygon fill="#A80036" points="130,420.4922,120,424.4922,130,428.4922,126,424.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="352" y1="424.4922" y2="424.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="136" y="419.4263">status: active [state_json]</text><path d="M84,481.4922 L148,481.4922 L148,488.4922 L138,498.4922 L84,498.4922 L84,481.4922 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="341" x="84" y="481.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="99" y="494.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="257" x="163" y="493.7026">[task successfully executed and solved]</text><polygon fill="#A80036" points="130,515.7578,120,519.7578,130,523.7578,126,519.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="352" y1="519.7578" y2="519.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="136" y="514.6919">status: solved [final_state_json]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="84" x2="425" y1="528.7578" y2="528.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="78" x="89" y="538.9683">[task failed]</text><polygon fill="#A80036" points="130,559.6953,120,563.6953,130,567.6953,126,563.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="352" y1="563.6953" y2="563.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="136" y="558.6294">status: failed [error_json]</text><rect fill="#EEEEEE" filter="url(#fqrwfn5tpmyjd)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="432" x="3" y="599.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="435" y1="599.2617" y2="599.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="435" y1="602.2617" y2="602.2617"/><rect fill="#EEEEEE" filter="url(#fqrwfn5tpmyjd)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="174" x="132" y="588.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="155" x="138" y="604.7622">Stop μC functionality</text><polygon fill="#A80036" points="107,638.9609,117,642.9609,107,646.9609,111,642.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="29" x2="113" y1="642.9609" y2="642.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="36" y="637.895">trigger: off</text><polygon fill="#A80036" points="341,668.0938,351,672.0938,341,676.0938,345,672.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="347" y1="672.0938" y2="672.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="126" y="667.0278">trigger: off</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="353" x2="395" y1="729.2266" y2="729.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="395" x2="395" y1="729.2266" y2="742.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="354" x2="395" y1="742.2266" y2="742.2266"/><polygon fill="#A80036" points="364,738.2266,354,742.2266,364,746.2266,360,742.2266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="360" y="724.1606">stopping</text><path d="M84,785.2266 L148,785.2266 L148,792.2266 L138,802.2266 L84,802.2266 L84,785.2266 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.2031" style="stroke: #000000; stroke-width: 2.0;" width="297.5" x="84" y="785.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="99" y="798.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="163" y="797.437">[task stopped successfully]</text><polygon fill="#A80036" points="130,819.4922,120,823.4922,130,827.4922,126,823.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="352" y1="823.4922" y2="823.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="136" y="818.4263">status: inactive [final_state_json]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="84" x2="381.5" y1="832.4922" y2="832.4922"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="89" y="842.7026">[stopping task failed]</text><polygon fill="#A80036" points="130,863.4297,120,867.4297,130,871.4297,126,867.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="352" y1="867.4297" y2="867.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="136" y="862.3638">status: failed [error_json]</text><!--
@startuml general_μC_workflow
actor Actor
participant mqtt
participant μC

== Init ==
μC -> mqtt: register
...

== Start μC functionality ==
Actor -> mqtt: trigger: on
mqtt -> μC: trigger: on

μC -> mqtt: status: active [state_json]

loop μC functionality in progress
    ...
    group On state change
        μC -> mqtt: status: active [state_json]
    end
    ...
end

alt task successfully executed and solved
    μC -> mqtt: status: solved [final_state_json]
else task failed
    μC -> mqtt: status: failed [error_json]
end

== Stop μC functionality ==
Actor -> mqtt: trigger: off
mqtt -> μC: trigger: off
...
μC -> μC: stopping
...
alt task stopped successfully
    μC -> mqtt: status: inactive [final_state_json]
else stopping task failed
    μC -> mqtt: status: failed [error_json]
end
@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.5+10-post-Ubuntu-0ubuntu1.118.04
Operating System: Linux
OS Version: 5.3.0-26-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>